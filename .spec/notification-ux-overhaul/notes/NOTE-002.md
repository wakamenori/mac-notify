---
status: 承認済み
datetime: 2026-02-17 12:05:58
---

## 背景

実機検証時に、通知が無い状態ではUI確認しづらく、Gemini待ちや実通知依存で検証速度が落ちる問題があった。

### 制約

- 実通知はタイミング依存で再現性が低い。
- 今回のUIはアプリ別グルーピング・色バー・クリア操作など、一覧がある前提で確認が必要。

## 決定内容

開発用の `inject_dummy_notifications` コマンドを追加し、フロントに `ダミー投入` ボタンを設置した。ダミー通知はメモリ上の `collected` にのみ追加し、DBには書き込まない。

## 根拠

テストデータ投入をアプリ内コマンドで完結させることで、UI/操作確認を高速に反復できるため。

### 判断軸

- **不可逆性**: 低。開発補助機能であり削除容易。
- **影響範囲**: `src-tauri/src/main.rs`, `src/main.ts`。
- **境界・契約**: TauriコマンドAPIに `inject_dummy_notifications` を追加。

## 影響

### 肯定的な影響

- テスト時に即座に一覧を生成できる。
- クリア機能の回帰確認が容易になる。

### 否定的な影響

- 本番利用者がボタンを押すと擬似データが混ざる。

### フォローアップ

- 将来的には `cfg(debug_assertions)` や設定フラグで露出制御を検討する。

## 検討した代替案

### 案A

- 外部スクリプトからイベント注入する。
- **却下理由**: 実行環境依存が強く、検証フローが複雑化する。

### 案B

- ダミーJSONを固定表示するだけにする。
- **却下理由**: クリアやイベント更新の実挙動検証にならない。

## 参照

- Spec: `.spec/notification-ux-overhaul/spec.md`
- Issue: なし
- PR: なし
